[{"line":1,"elements":[{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"result":{"duration":3995800,"status":"passed"},"line":6,"name":"ActiveMQ is running","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.activemqIsRunning()"},"keyword":"Given "},{"result":{"duration":58051700,"status":"passed"},"line":7,"name":"Microservice #1 is running on port 8080","match":{"arguments":[{"val":"8080","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice1IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":43872800,"status":"passed"},"line":8,"name":"Microservice #2 is running on port 8081","match":{"arguments":[{"val":"8081","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":17547900,"status":"passed"},"line":9,"name":"I am logged in as admin with password admin on url \"/api/login\"","match":{"arguments":[{"val":"\"/api/login\"","offset":51}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.loginAsAdmin(java.lang.String)"},"keyword":"And "}]},{"start_timestamp":"2025-01-18T16:15:22.816Z","line":11,"name":"Create a training session","description":"","id":"end-to-end-training-session-integration;create-a-training-session","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":57557000,"status":"passed"},"line":12,"name":"I have a training type with name \"Yoga Training\"","match":{"arguments":[{"val":"\"Yoga Training\"","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.createTrainingType(java.lang.String)"},"keyword":"Given "},{"result":{"duration":244654000,"status":"passed"},"line":13,"name":"I have a trainer with firstName \"John\", lastName \"Doe\" and training type \"Yoga Training\"","match":{"arguments":[{"val":"\"John\"","offset":32},{"val":"\"Doe\"","offset":49},{"val":"\"Yoga Training\"","offset":73}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iHaveTrainerWithTrainingType(java.lang.String,java.lang.String,java.lang.String)"},"keyword":"Given "},{"result":{"duration":80352800,"status":"passed"},"line":14,"name":"I send a request to \"/api/trainings/session\" on Microservice #1 with:","match":{"arguments":[{"val":"\"/api/trainings/session\"","offset":20}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iSendARequestTo(java.lang.String,io.cucumber.datatable.DataTable)"},"rows":[{"cells":["trainerFirstName","trainerLastName","isActive","trainingDate","trainingDuration","action"]},{"cells":["John","Doe","true","2025-10-10","2","add"]}],"keyword":"When "},{"result":{"duration":1100600,"status":"passed"},"line":17,"name":"the HTTP response code should be 201","match":{"arguments":[{"val":"201","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theHTTPResponseCodeShouldBe(int)"},"keyword":"Then "},{"result":{"duration":192557700,"status":"passed"},"line":18,"name":"Microservice #2 database should contain a training session with year \"2025\" with month \"10\" and with number \"2\"","match":{"arguments":[{"val":"2","offset":14},{"val":"\"2025\"","offset":69},{"val":"\"10\"","offset":87},{"val":"\"2\"","offset":108}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microserviceDatabaseShouldContainATrainingSessionForWithYearWithMonthAndWithNumber(int,java.lang.String,java.lang.String,java.lang.String)"},"keyword":"And "}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"result":{"duration":989400,"status":"passed"},"line":6,"name":"ActiveMQ is running","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.activemqIsRunning()"},"keyword":"Given "},{"result":{"duration":32904100,"status":"passed"},"line":7,"name":"Microservice #1 is running on port 8080","match":{"arguments":[{"val":"8080","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice1IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":41766900,"status":"passed"},"line":8,"name":"Microservice #2 is running on port 8081","match":{"arguments":[{"val":"8081","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":10617400,"status":"passed"},"line":9,"name":"I am logged in as admin with password admin on url \"/api/login\"","match":{"arguments":[{"val":"\"/api/login\"","offset":51}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.loginAsAdmin(java.lang.String)"},"keyword":"And "}]},{"start_timestamp":"2025-01-18T16:15:23.594Z","line":20,"name":"Delete a training session","description":"","id":"end-to-end-training-session-integration;delete-a-training-session","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":37133300,"status":"passed"},"line":21,"name":"I have a training type with name \"Personal Training\"","match":{"arguments":[{"val":"\"Personal Training\"","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.createTrainingType(java.lang.String)"},"keyword":"Given "},{"result":{"duration":262218600,"status":"passed"},"line":22,"name":"I have a trainer with firstName \"Alice\", lastName \"Smith\" and training type \"Personal Training\"","match":{"arguments":[{"val":"\"Alice\"","offset":32},{"val":"\"Smith\"","offset":50},{"val":"\"Personal Training\"","offset":76}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iHaveTrainerWithTrainingType(java.lang.String,java.lang.String,java.lang.String)"},"keyword":"Given "},{"result":{"duration":77311000,"status":"passed"},"line":23,"name":"I have a training session in Microservice #1 with:","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iHaveATrainingSessionInMicroservice1(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["trainerFirstName","trainerLastName","isActive","trainingDate","trainingDuration","action"]},{"cells":["Alice","Smith","true","2025-01-20","3","add"]}],"keyword":"And "},{"result":{"duration":69098100,"status":"passed"},"line":26,"name":"I send a request to \"/api/trainings/session\" on Microservice #1 with:","match":{"arguments":[{"val":"\"/api/trainings/session\"","offset":20}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iSendARequestTo(java.lang.String,io.cucumber.datatable.DataTable)"},"rows":[{"cells":["trainerFirstName","trainerLastName","isActive","trainingDate","trainingDuration","action"]},{"cells":["Alice","Smith","true","2025-01-20","3","delete"]}],"keyword":"When "},{"result":{"duration":680400,"status":"passed"},"line":29,"name":"the HTTP response code should be 200","match":{"arguments":[{"val":"200","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theHTTPResponseCodeShouldBe(int)"},"keyword":"Then "},{"result":{"duration":32035700,"status":"passed"},"line":30,"name":"Microservice #1 database should NOT contain a training session for \"trainer02\" on date \"2025-01-20\"","match":{"arguments":[{"val":"\"trainer02\"","offset":67},{"val":"\"2025-01-20\"","offset":87}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2ShouldNotContainSession(java.lang.String,java.lang.String)"},"keyword":"And "}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"result":{"duration":997400,"status":"passed"},"line":6,"name":"ActiveMQ is running","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.activemqIsRunning()"},"keyword":"Given "},{"result":{"duration":62088800,"status":"passed"},"line":7,"name":"Microservice #1 is running on port 8080","match":{"arguments":[{"val":"8080","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice1IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":59980800,"status":"passed"},"line":8,"name":"Microservice #2 is running on port 8081","match":{"arguments":[{"val":"8081","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":24856800,"status":"passed"},"line":9,"name":"I am logged in as admin with password admin on url \"/api/login\"","match":{"arguments":[{"val":"\"/api/login\"","offset":51}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.loginAsAdmin(java.lang.String)"},"keyword":"And "}]},{"start_timestamp":"2025-01-18T16:15:24.207Z","line":32,"name":"Create trainer without specifying training type","description":"","id":"end-to-end-training-session-integration;create-trainer-without-specifying-training-type","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":61494000,"status":"passed"},"line":33,"name":"I send a request to \"/api/trainers\" on Microservice #1 without Training type:","match":{"arguments":[{"val":"\"/api/trainers\"","offset":20}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iSendARequestToOnMicroserviceWithNoTrainingType(java.lang.String,io.cucumber.datatable.DataTable)"},"rows":[{"cells":["firstName","lastName","active"]},{"cells":["Clark","Kent","true"]}],"keyword":"When "},{"result":{"duration":509100,"status":"passed"},"line":36,"name":"the HTTP response code should be 400","match":{"arguments":[{"val":"400","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theHTTPResponseCodeShouldBe(int)"},"keyword":"Then "},{"result":{"duration":2047100,"status":"passed"},"line":37,"name":"the response should say \"Training Type `id` is required\"","match":{"arguments":[{"val":"\"Training Type `id` is required\"","offset":24}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theResponseShouldSay(java.lang.String)"},"keyword":"And "}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"result":{"duration":1000300,"status":"passed"},"line":6,"name":"ActiveMQ is running","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.activemqIsRunning()"},"keyword":"Given "},{"result":{"duration":61400400,"status":"passed"},"line":7,"name":"Microservice #1 is running on port 8080","match":{"arguments":[{"val":"8080","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice1IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":55381000,"status":"passed"},"line":8,"name":"Microservice #2 is running on port 8081","match":{"arguments":[{"val":"8081","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":20530900,"status":"passed"},"line":9,"name":"I am logged in as admin with password admin on url \"/api/login\"","match":{"arguments":[{"val":"\"/api/login\"","offset":51}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.loginAsAdmin(java.lang.String)"},"keyword":"And "}]},{"start_timestamp":"2025-01-18T16:15:24.495Z","line":40,"name":"Create a training session in the past","description":"","id":"end-to-end-training-session-integration;create-a-training-session-in-the-past","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":42557100,"status":"passed"},"line":41,"name":"I have a training type with name \"Zumba\"","match":{"arguments":[{"val":"\"Zumba\"","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.createTrainingType(java.lang.String)"},"keyword":"Given "},{"result":{"duration":295742700,"status":"passed"},"line":42,"name":"I have a trainer with firstName \"Kate\", lastName \"Beckinsale\" and training type \"Zumba\"","match":{"arguments":[{"val":"\"Kate\"","offset":32},{"val":"\"Beckinsale\"","offset":49},{"val":"\"Zumba\"","offset":80}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iHaveTrainerWithTrainingType(java.lang.String,java.lang.String,java.lang.String)"},"keyword":"Given "},{"result":{"duration":52323400,"status":"passed"},"line":43,"name":"I send a request to \"/api/trainings/session\" on Microservice #1 with:","match":{"arguments":[{"val":"\"/api/trainings/session\"","offset":20}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iSendARequestTo(java.lang.String,io.cucumber.datatable.DataTable)"},"rows":[{"cells":["trainerFirstName","trainerLastName","isActive","trainingDate","trainingDuration","action"]},{"cells":["Kate","Beckinsale","true","2020-01-01","2","add"]}],"keyword":"When "},{"result":{"status":"passed"},"line":46,"name":"the HTTP response code should be 201","match":{"arguments":[{"val":"201","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theHTTPResponseCodeShouldBe(int)"},"keyword":"Then "},{"result":{"duration":15620900,"status":"passed"},"line":47,"name":"the database should contain a trainer with username \"FallbackTrainer\" instead of Kate.Beckinsale","match":{"arguments":[{"val":"\"FallbackTrainer\"","offset":52}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theDatabaseShouldContainATrainerWithUsernameInsteadOf(java.lang.String)"},"keyword":"And "}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"result":{"duration":995000,"status":"passed"},"line":6,"name":"ActiveMQ is running","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.activemqIsRunning()"},"keyword":"Given "},{"result":{"duration":42115200,"status":"passed"},"line":7,"name":"Microservice #1 is running on port 8080","match":{"arguments":[{"val":"8080","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice1IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":40861700,"status":"passed"},"line":8,"name":"Microservice #2 is running on port 8081","match":{"arguments":[{"val":"8081","offset":35}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.microservice2IsRunningOnPort(int)"},"keyword":"And "},{"result":{"duration":10513600,"status":"passed"},"line":9,"name":"I am logged in as admin with password admin on url \"/api/login\"","match":{"arguments":[{"val":"\"/api/login\"","offset":51}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.loginAsAdmin(java.lang.String)"},"keyword":"And "}]},{"start_timestamp":"2025-01-18T16:15:25.076Z","line":50,"name":"Attempt to create a training session without logging in","description":"","id":"end-to-end-training-session-integration;attempt-to-create-a-training-session-without-logging-in","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":998700,"status":"passed"},"line":51,"name":"I do not have a valid admin session","match":{"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iDoNotHaveAValidAdminSession()"},"keyword":"Given "},{"result":{"duration":16265400,"status":"passed"},"line":52,"name":"I send a request to \"/api/trainings/session\" on Microservice #1 with:","match":{"arguments":[{"val":"\"/api/trainings/session\"","offset":20}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.iSendARequestTo(java.lang.String,io.cucumber.datatable.DataTable)"},"rows":[{"cells":["trainerFirstName","trainerLastName","isActive","trainingDate","trainingDuration","action"]},{"cells":["Tony","Stark","true","2025-01-15","2","add"]}],"keyword":"When "},{"result":{"status":"passed"},"line":55,"name":"the HTTP response code should be 401","match":{"arguments":[{"val":"401","offset":33}],"location":"com.micro.workload.integration.steps.TrainingIntegrationSteps.theHTTPResponseCodeShouldBe(int)"},"keyword":"Then "}]}],"name":"End-to-end training session integration","description":"  In order to confirm that Microservice #1 and Microservice #2 communicate via JMS\n  we want to test the entire flow from REST request to MongoDB insertion.","id":"end-to-end-training-session-integration","keyword":"Feature","uri":"file:src/test/resources/feature/integration/trainingIntegration.feature","tags":[]}]